# メモ

## 階層構造

p2psns/
├── server.rb       # WEBrick/TCPServerでHTTPサーバー起動
├── routes.rb       # URLと処理の対応表（自作）
├── storage.rb      # ユーザーデータ管理（JSON, ファイル操作）
├── signup.rb       # 新規登録処理（鍵生成、フォルダ複製）
├── gossip.rb       # Gossipプロトコル実装
├── views/
│   ├── home.erb    # ホーム画面
│   ├── sign.erb    # 新規登録ページ
│   ├── index.erb   # ログインページ
└── users/
    └── template/   # 初期フォルダ構造
        ├── media/
        ├── pmedia/
        ├── posts/
        └── config.json

## 仕様(見た目)

サインイン/サインアップページ
プロフィール(マイページ)
左投稿欄ーーー動的生成(TLなど)ーーー右縦長パネル(ホーム/探索/ブクマ/DM/設定)

右縦長パネルで中央に動的生成、設定ページなど特別なページのみ別でページを用意
「上級者向けUI」などとしていくつかのUIを提供

## 仕様(仕組み)

P2P方式でデータを各ノードが分散保持
ポストなどのデータはCIDで静的に、更新系のものはGossipプロトコルを用いて拡散更新・管理する
Webrickを用いてノードを確立、ページをレンダリングする

ユーザーのデータはusers/中の各ユーザーフォルダに保管
新規登録の際にusers/templateを複製し初期データとする
同時にusername始めとするプロフィールデータを保存